/*
 * SimpleSyntax.js
 * Description: A lightweight yet powerful syntax highlighting library for textareas.
 * Author: Reem Rizk
 * License: MIT
 * https://github.com/reemrizzk/SimpleSyntaxJs
 */
var ssTextareas=0;HTMLElement.prototype.simpleSyntax=function(e){ssTextareas++,void 0===(e=e||{}).copyButton&&(e.copyButton=!1),void 0===e.findAndReplace&&(e.findAndReplace=!1),void 0===e.font&&(e.font="monospace"),void 0===e.language&&(e.language="none"),void 0===e.lineNumbers&&(e.lineNumbers=!1),void 0===e.matchBraces&&(e.matchBraces=!1),void 0===e.readOnly&&(e.readOnly=!1),!0===e.readOnly&&(e.findAndReplace=!1),void 0===e.tabChars&&(e.tabChars="\t"),void 0===e.theme&&(e.theme="light");var t=this,s=16,n=[],a=[],l=[],i=[];if("textarea"!==this.tagName.toLowerCase())return;var o=document.createElement("div");o.classList.add("ss-container","ss-container-"+e.theme);var c=document.createElement("div");c.className="linesDiv",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.width="40px",c.style.paddingRight="10px",c.style.paddingTop="4px",c.style.textAlign="right",c.style.boxSizing="border-box",c.style.fontFamily=e.font,c.style.fontSize="16px","courier new"==e.font.toLowerCase()&&(c.style.fontWeight="bold"),c.style.overflow="hidden",c.style.zIndex="5",c.style.color="#888";var r=document.createElement("div");r.className="codeDiv",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.boxSizing="border-box",void 0===e.width?r.style.width=t.offsetWidth-12+"px":r.style.width="calc(100% - 12px)",r.style.height=t.offsetHeight-12+"px",r.style.zIndex="2",r.style.fontFamily=e.font,r.style.padding="0px",r.style.margin="0px",r.style.paddingLeft="50px",r.style.paddingTop="4px",r.style.fontSize="16px",r.style.overflow="scroll",r.style.whiteSpace="pre","courier new"==e.font.toLowerCase()&&(r.style.fontWeight="bold"),t.style.position="static";var p=t.parentNode;if(t.style.position="absolute",t.style.top="0",t.style.left="0",void 0!==e.width&&(t.style.width="100%"),t.style.fontFamily=e.font,t.style.padding="0px",t.style.margin="0px",t.style.paddingLeft="50px",t.style.paddingTop="4px",t.style.fontSize="16px",t.style.backgroundColor="transparent",t.style.color="transparent",t.style.boxSizing="border-box",t.readOnly=e.readOnly,t.style.overflow="scroll","courier new"==e.font.toLowerCase()&&(t.style.fontWeight="bold"),t.style.whiteSpace="pre",t.style.borderRadius="0px",t.style.border="none",t.style.outline="none",t.style.zIndex="4",t.spellcheck=!1,t.style.resize="none",e.lineNumbers||(c.style.display="none",r.style.paddingLeft="6px",t.style.paddingLeft="6px"),o.style.position="relative",o.style.display="block",o.style.width=t.offsetWidth+"px",void 0===e.width?o.style.width=t.offsetWidth+"px":o.style.width=e.width,o.style.height=t.offsetHeight+"px",o.style.border="2px solid #600080;",o.appendChild(r),o.appendChild(c),o.appendChild(t),!(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)&&-1===navigator.userAgent.indexOf("Firefox")){var d=document.createElement("div");d.classList.add("cornerDiv"),d.style.position="absolute",d.style.bottom="0px",d.style.right="0px",d.style.width="6px",d.style.height="6px",d.style.zIndex="7",o.appendChild(d)}if(e.copyButton){var u=document.createElement("button");u.classList.add("copyButton"),u.innerText="Copy",o.appendChild(u),u.addEventListener("click",(function(){let e=t.selectionStart,s=t.selectionEnd;t.select(),document.execCommand("copy"),t.selectionStart=e,t.selectionEnd=s}))}const g=document.createElement("div");g.className="ss-searchbar-"+e.theme,g.style.boxSizing="border-box",g.style.display="none";const h=document.createElement("input");h.type="text",h.id="ss-find-"+ssTextareas,h.placeholder="Find..",g.appendChild(h);const f=document.createElement("input");f.type="text",f.id="ss-replace-"+ssTextareas,f.placeholder="Replace with..",g.appendChild(f);const y=document.createElement("div");y.style.float="right";const b=document.createElement("input");b.type="checkbox",b.id="match-case-"+ssTextareas,y.appendChild(b);const m=document.createElement("label");m.htmlFor="match-case-"+ssTextareas,m.textContent="Match Case",y.appendChild(m);const v=document.createElement("button");v.className="ss-find",v.innerHTML="&#8249;",y.appendChild(v);const x=document.createElement("button");x.className="ss-find",x.innerHTML="&#8250;",y.appendChild(x);const w=document.createElement("button");w.id="ss-replace-btn-"+ssTextareas,w.innerHTML="Replace",y.appendChild(w);const k=document.createElement("button");k.id="ss-replace-all-btn-"+ssTextareas,k.innerHTML="Replace All",y.appendChild(k);const L=document.createElement("button");L.innerHTML="X",L.style.paddingRight="0px",L.onclick=function(){g.style.display="none"},y.appendChild(L),g.appendChild(y),e.findAndReplace&&p.appendChild(g),p.appendChild(o),void 0===e.width?g.style.width=o.offsetWidth+"px":g.style.width=e.width;let S=0;function C(e,t,s,n){const a=s?e.value:e.value.toLowerCase();if(t=s?t:t.toLowerCase(),"next"===n){const s=a.indexOf(t,S+1);-1!==s&&(S=s,T(e,S,t.length),E())}else if("prev"===n){const s=a.substring(0,S).split("").reverse().join(""),n=t.split("").reverse().join(""),l=s.indexOf(n),i=-1!==l?S-l-t.length:-1;-1!==i&&(S=i,T(e,S,t.length),E())}}function E(){const e=t.selectionStart,s=parseFloat(getComputedStyle(t).fontSize),n=t.value.substr(0,e).split("\n").length-1;t.scrollTop=n*s}function T(e,t,s){e.focus(),e.setSelectionRange(t,t+s)}function $(){var e=t.value.split("\n").length;c.innerHTML=Array.from({length:e},((e,t)=>t+1)).join("<br>"),-1===navigator.userAgent.indexOf("Firefox")?c.style.height=t.offsetHeight-6+"px":c.style.height=t.offsetHeight+"px"}function z(e,t,s){return t<0||t>=e.length||1!==s.length?e:e.slice(0,t)+s+e.slice(t+1)}function A(){let s=t.value,o=s;if("none"!=e.language){a=[],n=[],i=[],l=[];var c=!1,r=!1,p=!1;for(let t=0;t<s.length;t++){let d=!1,u=!1,g=!1;if(t>0&&"\\"!==s[t]){(c||r||u)&&"/"==s[t]&&"/"==s[t-1]&&(o=z(o,t,"⁄"));let n=0;"*"==s[t]&&"/"==s[t-1]&&"none"!=e.language&&"html"!=e.language&&"python"!=e.language&&(u=!0),"/"==s[t]&&"*"==s[t-1]&&"none"!=e.language&&"html"!=e.language&&"python"!=e.language&&(g=!0);for(let e=t-1;e>=0&&"\\"===s[e];e--)n++;d=n%2==1}switch(c||r||!u||(p=!0),c||r||!g||(p=!1),s[t]){case"{":c||r||!e.matchBraces||p||(a.push("{"),n.push(t));break;case"}":c||r||!e.matchBraces||p||(a.push("}"),n.push(t));break;case"(":c||r||!e.matchBraces||p||(i.push("("),l.push(t));break;case")":c||r||!e.matchBraces||p||(i.push(")"),l.push(t));break;case"'":r||d||p?o=z(o,t,"‚"):c=!c;break;case'"':c||d||p?o=z(o,t,"„"):r=!r}}}let d=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML}(o);("html"!=e.language&&"xml"!=e.language&&"php"!=e.language||(d=d.replace(/\"(.*?)\"/g,'<span cltemp="ss-string">"$1"</span>').replace(/\'(.*?)\'/g,"<span cltemp=\"ss-string\">'$1'</span>"),"php"==e.language&&(d=d.replace(/\&lt\;\?php[\s\S]*?\?\&gt\;/g,'<span class="ss-php-tag">$&</span>')),d=d.replace(/&lt;([^&]*)&gt;/g,(function(e,t){return"&lt;"+t.replace(/(class=|id=|name=|href=|value=|src=|alt=|charset=|title=|style=|width=|height=|rel=|type=)/g,'<span class="ss-attribute">$1</span>')+"&gt;"})),d=d.replace(/(&lt;!--[\s\S]*?--&gt;)/g,'<span class="ss-comment">$1</span>'),d=d.replace(/(&lt;\/?)(\w+)(.*?&gt;)/g,(function(e,t,s,n){return t+'<span class="ss-tag">'+s+"</span>"+n})),d=d.replace(/&lt;\//g,'<span class="ss-tag">&lt;/</span>'),d=d.replace(/&lt;/g,'<span class="ss-tag">&lt;</span>'),d=d.replace(/&gt;/g,'<span class="ss-tag">&gt;</span>'),d=d.replace(/<span cltemp=/g,"<span class=")),"java"==e.language||"javascript"==e.language||"csharp"==e.language||"python"==e.language||"kotlin"==e.language||"cpp"==e.language)&&("java"==e.language?(u=/\b(int|long|float|double|boolean|enum|void|char|String)\b/g,g=/\b(abstract|assert|break|case|catch|continue|default|do|else|extends|final|finally|for|goto|if|implements|import|instanceof|interface|new|null|package|private|protected|public|return|short|static|super|switch|this|throw|throws|try|while|true|false)\b/g):"javascript"==e.language?(u=/\b(var|const|let|number|boolean|enum|object|undefined|symbol|bigint)\b/g,g=/\b(await|break|case|catch|continue|default|delete|do|else|export|extends|false|finally|for|function|if|import|in|instanceof|new|null|return|super|switch|this|throw|true|try|typeof|void|while|with|yield)\b/g):"csharp"==e.language?(u=/\b(int|long|float|double|decimal|bool|enum|namespace|char|String|object|byte|sbyte|short|ushort|uint|ulong)\b/g,g=/\b(abstract|as|base|break|case|catch|checked|continue|default|delegate|do|else|event|explicit|extern|false|finally|for|foreach|goto|if|implicit|in|interface|internal|is|lock|new|null|object|out|override|params|private|protected|public|readonly|ref|return|short|sizeof|static|switch|this|throw|true|try|typeof|unsafe|using|while)\b/g):"python"==e.language?(u=/\b(int|float|complex|bool|str|bytes|bytearray|list|tuple|set|frozenset|dict|NoneType)\b/g,g=/\b(and|as|assert|async|await|break|continue|def|del|elif|else|except|False|finally|for|from|global|if|import|in|is|lambda|None|nonlocal|not|or|pass|raise|return|True|try|while|with|yield)\b/g):"kotlin"==e.language?(u=/\b(var|val|Int|Long|Float|Double|Boolean|Char|String|Any|Unit|Nothing)\b/g,g=/\b(as|break|continue|do|else|false|for|fun|if|in|interface|is|null|object|package|return|super|this|throw|true|try|typealias|typeof|when|while)\b/g):"cpp"==e.language&&(u=/\b(int|long|float|double|bool|enum|char|wchar_t|unsigned|signed)\b/g,g=/\b(alignas|alignof|and|and_eq|auto|break|case|catch|compl|concept|continue|decltype|default|delete|do|else|explicit|export|extern|false|float|for|goto|if|import|inline|module|mutable|new|noexcept|not|or|private|protected|public|register|requires|return|sizeof|static|switch|template|this|true|try|typedef|typeid|typename|union|using|virtual|while|xor)\b/g),d=d.replace(/\"(.*?)\"/g,'<span class="ss-string">"$1"</span>').replace(/\'(.*?)\'/g,"<span class=\"ss-string\">'$1'</span>").replace(g,'<span class="ss-keyword">$1</span>').replace(u,'<span class="ss-type">$1</span>'),"python"!=e.language&&(d=d.replace(/\/\*[\s\S]*?\*\//g,'<span class="ss-comment">$&</span>')),d=d.replace(/("[^"]*"|'[^']*')|(\{|\})/g,(function(e,t,s){return t||(s?'<span class="ss-brace ss-curly-brace">'+s+"</span>":void 0)})).replace(/("[^"]*"|'[^']*')|(\(|\))/g,(function(e,t,s){return t||(s?'<span class="ss-brace ss-round-brace">'+s+"</span>":void 0)})),d="python"!=e.language?d.replace(/(\/\/.*?)(?=\r?\n|<br>|$)/g,'<span class="ss-comment">$1</span>'):d.replace(/(\#.*?)(?=\r?\n|<br>|$)/g,'<span class="ss-comment">$1</span>'));if("php"==e.language){var u=/\b(int|float|bool|object|callable|iterable|null)\b/g,g=/\b(abstract|and|array|as|break|case|catch|clone|continue|declare|default|do|echo|else|elseif|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|interface|isset|list|new|or|print|private|protected|public|require|require_once|return|static|switch|throw|try|unset|use|while|xor|yield|true|false|null)\b/g;d=d.replace(g,'<span class="ss-php-keyword">$1</span>').replace(u,'<span class="ss-php-type">$1</span>'),d=d.replace(/\/\*[\s\S]*?\*\//g,'<span class="ss-php-comment">$&</span>'),d=d.replace(/("[^"]*"|'[^']*')|(\{|\})/g,(function(e,t,s){return t||(s?'<span class="ss-php-brace ss-curly-brace">'+s+"</span>":void 0)})).replace(/("[^"]*"|'[^']*')|(\(|\))/g,(function(e,t,s){return t||(s?'<span class="ss-php-brace ss-round-brace">'+s+"</span>":void 0)})),d=d.replace(/(\/\/.*?)(?=\r?\n|<br>|$)/g,'<span class="ss-php-comment">$1</span>'),d=d.replace(/(\$[a-zA-Z_\x80-\xff][a-zA-Z0-9_\x80-\xff]*)/g,'<span class="ss-php-type">$1</span>')}return"css"==e.language&&(d=d.replace(/\"(.*?)\"/g,'<span class="ss-string">"$1"</span>').replace(/\'(.*?)\'/g,'<span class="ss-string">"$1"</span>').replace(/\/\*[\s\S]*?\*\//g,'<span class="ss-comment">$&</span>').replace(/(\{|\})/g,'<span class="ss-brace ss-curly-brace">$1</span>').replace(/([a-zA-Z-]+)(\s*):/g,'<span class="ss-property">$1</span>$2:').replace(/(\:)/g,'<span class="ss-colon">$1</span>').replace(/(\.[a-zA-Z0-9_-]+)/g,'<span class="ss-class">$1</span>').replace(/(\#[a-zA-Z0-9_-]+)/g,'<span class="ss-id">$1</span>')),"none"!=e.language&&(d=d.replace(/„/g,'"'),d=d.replace(/‚/g,"'"),d=d.replace(/⁄/g,"/")),d}function R(){this.removeEventListener("input",R);this.value;var e=A();r.innerHTML=e+"<br>",$(),this.addEventListener("input",R)}x.onclick=function(){const e=h.value,s=b.checked;C(t,e,s,"next")},v.onclick=function(){const e=h.value,s=b.checked;C(t,e,s,"prev")},w.onclick=function(){const e=h.value,s=f.value,n=b.checked;!function(e,t,s,n){const a=n?e.value:e.value.toLowerCase();t=n?t:t.toLowerCase();const l=a.indexOf(t,S);if(-1!==l){const n=e.value,a=n.substring(0,l),i=n.substring(l+t.length),o=e.selectionStart;e.value=a+s+i,e.selectionStart=o,S=l+s.length,T(e,S-s.length,s.length),R(),E()}}(t,e,s,n)},k.onclick=function(){const e=h.value,s=f.value,n=b.checked;!function(e,t,s,n){n?e.value:e.value.toLowerCase(),t=n?t:t.toLowerCase(),e.value=e.value.split(t).join(s),R()}(t,e,s,n)},this.textChanged=function(){R()},this.showFind=function(){e.findAndReplace&&(f.style.display="none",w.style.display="none",k.style.display="none",g.style.height="46px",y.style.marginTop="0px",g.style.display="block")},this.showReplace=function(){e.findAndReplace&&(f.style.display="inline-block",w.style.display="inline-block",k.style.display="inline-block",g.style.height="84px",y.style.marginTop="8px",g.style.display="block")},this.zoomIn=function(){s<24&&(s+=4,t.style.fontSize=s+"px",r.style.fontSize=s+"px",c.style.fontSize=s+"px")},this.zoomOut=function(){s>4&&(s-=4,t.style.fontSize=s+"px",r.style.fontSize=s+"px",c.style.fontSize=s+"px")},this.setTheme=function(t){o.classList.remove("ss-container-"+e.theme),g.classList.remove("ss-searchbar-"+e.theme),e.theme=t,o.classList.add("ss-container-"+e.theme),g.classList.add("ss-searchbar-"+e.theme)},t.addEventListener("click",(function(s){if(e.matchBraces){var o=t.selectionStart,c=o;let e=t.value;var p,d="";"{"===e[o]?d="{":"}"===e[o]?d="}":"("===e[o]?d="(":")"===e[o]?d=")":"{"===e[o-1]?(d="{",c--):"}"===e[o-1]?(d="}",c--):"("===e[o-1]?(d="(",c--):")"===e[o-1]&&(d=")",c--),p="{"==d||"}"==d?n.indexOf(c):l.indexOf(c);var u=-1,g=!1,h=1;if("{"==d&&-1!=p)for(let e=p+1;e<a.length;e++){switch(a[e]){case"{":h++;break;case"}":h-1==0?(u=e,g=!0):h--}if(g)break}else if("}"==d&&-1!=p)for(let e=p-1;e>=0;e--){switch(a[e]){case"}":h++;break;case"{":h-1==0?(u=e,g=!0):h--}if(g)break}else if("("==d&&-1!=p)for(let e=p+1;e<i.length;e++){switch(i[e]){case"(":h++;break;case")":h-1==0?(u=e,g=!0):h--}if(g)break}else if(")"==d&&-1!=p)for(let e=p-1;e>=0;e--){switch(i[e]){case")":h++;break;case"(":h-1==0?(u=e,g=!0):h--}if(g)break}if(document.querySelectorAll(".ss-highlight").forEach((function(e){e.classList.remove("ss-highlight")})),-1!==u&&-1!==p){var f;if(p<(f="{"==d||"}"==d?r.querySelectorAll(".ss-curly-brace"):r.querySelectorAll(".ss-round-brace")).length){f[p].classList.add("ss-highlight")}if(u<f.length){f[u].classList.add("ss-highlight")}}}})),this.insertText=function(e){document.activeElement!==t&&t.focus();var s=t.selectionStart,n=t.selectionEnd,a=t.value.substring(0,s),l=t.value.substring(n,t.value.length);t.value=a+e+l,t.selectionStart=s,t.selectionEnd=s+e.length,R()},this.insertHtmlTag=function(e){document.activeElement!==t&&t.focus();var s=t.selectionStart,n=t.selectionEnd,a=t.value.substring(0,s),l=t.value.substring(n,t.value.length),i="<"+e+">"+t.value.substring(s,n)+"</"+e+">";t.value=a+i+l,t.selectionStart=s,t.selectionEnd=s+i.length,R()},t.addEventListener("keydown",(function(s){if("Tab"==s.key){s.preventDefault();let n=t.selectionStart,a=t.selectionEnd;t.value=t.value.substring(0,n)+e.tabChars+t.value.substring(a),t.selectionStart=t.selectionEnd=n+e.tabChars.length,R()}!s.ctrlKey||"f"!==s.key&&70!==s.keyCode||e.findAndReplace&&(s.preventDefault(),f.style.display="none",w.style.display="none",k.style.display="none",g.style.height="46px",g.style.display="block"),!s.ctrlKey||"h"!==s.key&&72!==s.keyCode||e.findAndReplace&&(s.preventDefault(),f.style.display="inline-block",w.style.display="inline-block",k.style.display="inline-block",g.style.height="67px",g.style.display="block")}));t.value;var H=A();r.innerHTML=H,$(),t.addEventListener("input",R),t.addEventListener("scroll",(function(e){r.scrollTop=t.scrollTop,c.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}))};