/*
 * SimpleSyntax.js
 * Description: A lightweight yet powerful syntax highlighting library for textareas.
 * Author: Reem Rizk
 * License: MIT
 * https://github.com/reemrizzk/SimpleSyntaxJs
 */
var ssTextareas=0;HTMLElement.prototype.simpleSyntax=function(e){ssTextareas++,void 0===(e=e||{}).findAndReplace&&(e.findAndReplace=!1),void 0===e.font&&(e.font="monospace"),void 0===e.language&&(e.language="none"),void 0===e.lineNumbers&&(e.lineNumbers=!1),void 0===e.matchBraces&&(e.matchBraces=!1),void 0===e.readOnly&&(e.readOnly=!1),!0===e.readOnly&&(e.findAndReplace=!1),void 0===e.tabChars&&(e.tabChars="\t"),void 0===e.theme&&(e.theme="light");var t=this,s=16,n=[],a=[],l=[],i=[];if("textarea"!==this.tagName.toLowerCase())return;var o=document.createElement("div");o.classList.add("ss-container","ss-container-"+e.theme);var r=document.createElement("div");r.className="linesDiv",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="40px",r.style.paddingRight="10px",r.style.paddingTop="4px",r.style.textAlign="right",r.style.boxSizing="border-box",r.style.fontFamily=e.font,r.style.fontSize="16px","courier new"==e.font.toLowerCase()&&(r.style.fontWeight="bold"),r.style.overflow="hidden",r.style.zIndex="5",r.style.color="#888";var c=document.createElement("div");c.className="codeDiv",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.boxSizing="border-box",c.style.width=t.offsetWidth-12+"px",c.style.height=t.offsetHeight-12+"px",c.style.zIndex="2",c.style.fontFamily=e.font,c.style.padding="0px",c.style.margin="0px",c.style.paddingLeft="50px",c.style.paddingTop="4px",c.style.fontSize="16px",c.style.overflow="scroll",c.style.whiteSpace="pre","courier new"==e.font.toLowerCase()&&(c.style.fontWeight="bold"),t.style.position="static";var p=t.parentNode;if(t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.fontFamily=e.font,t.style.padding="0px",t.style.margin="0px",t.style.paddingLeft="50px",t.style.paddingTop="4px",t.style.fontSize="16px",t.style.backgroundColor="transparent",t.style.color="transparent",t.style.boxSizing="border-box",t.readOnly=e.readOnly,t.style.overflow="scroll","courier new"==e.font.toLowerCase()&&(t.style.fontWeight="bold"),t.style.whiteSpace="pre",t.style.borderRadius="0px",t.style.border="none",t.style.outline="none",t.style.zIndex="4",t.spellcheck=!1,t.style.resize="none",e.lineNumbers||(r.style.display="none",c.style.paddingLeft="6px",t.style.paddingLeft="6px"),o.style.position="relative",o.style.display="block",o.style.width=t.offsetWidth+"px",o.style.height=t.offsetHeight+"px",o.style.border="2px solid #600080;",o.appendChild(c),o.appendChild(r),o.appendChild(t),!(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)&&-1===navigator.userAgent.indexOf("Firefox")){var d=document.createElement("div");d.classList.add("cornerDiv"),d.style.position="absolute",d.style.bottom="0px",d.style.right="0px",d.style.width="6px",d.style.height="6px",d.style.zIndex="7",o.appendChild(d)}const u=document.createElement("div");u.className="ss-searchbar-"+e.theme,u.style.boxSizing="border-box",u.style.display="none";const g=document.createElement("input");g.type="text",g.id="ss-find-"+ssTextareas,g.placeholder="Find..",u.appendChild(g);const h=document.createElement("input");h.type="text",h.id="ss-replace-"+ssTextareas,h.placeholder="Replace with..",u.appendChild(h);const f=document.createElement("div");f.style.float="right";const y=document.createElement("input");y.type="checkbox",y.id="match-case-"+ssTextareas,f.appendChild(y);const b=document.createElement("label");b.htmlFor="match-case-"+ssTextareas,b.textContent="Match Case",f.appendChild(b);const m=document.createElement("button");m.className="ss-find",m.innerHTML="&#8249;",f.appendChild(m);const v=document.createElement("button");v.className="ss-find",v.innerHTML="&#8250;",f.appendChild(v);const x=document.createElement("button");x.id="ss-replace-btn-"+ssTextareas,x.innerHTML="Replace",f.appendChild(x);const w=document.createElement("button");w.id="ss-replace-all-btn-"+ssTextareas,w.innerHTML="Replace All",f.appendChild(w);const k=document.createElement("button");k.innerHTML="X",k.style.paddingRight="0px",k.onclick=function(){u.style.display="none"},f.appendChild(k),u.appendChild(f),e.findAndReplace&&p.appendChild(u),p.appendChild(o),u.style.width=o.offsetWidth+"px";let L=0;function S(e,t,s,n){const a=s?e.value:e.value.toLowerCase();if(t=s?t:t.toLowerCase(),"next"===n){const s=a.indexOf(t,L+1);-1!==s&&(L=s,T(e,L,t.length),C())}else if("prev"===n){const s=a.substring(0,L).split("").reverse().join(""),n=t.split("").reverse().join(""),l=s.indexOf(n),i=-1!==l?L-l-t.length:-1;-1!==i&&(L=i,T(e,L,t.length),C())}}function C(){const e=t.selectionStart,s=parseFloat(getComputedStyle(t).fontSize),n=t.value.substr(0,e).split("\n").length-1;t.scrollTop=n*s,console.log(e+" "+s)}function T(e,t,s){e.focus(),e.setSelectionRange(t,t+s)}function E(){var e=t.value.split("\n").length;r.innerHTML=Array.from({length:e},((e,t)=>t+1)).join("<br>"),-1===navigator.userAgent.indexOf("Firefox")?r.style.height=t.offsetHeight-6+"px":r.style.height=t.offsetHeight+"px"}function z(e,t,s){return t<0||t>=e.length||1!==s.length?e:e.slice(0,t)+s+e.slice(t+1)}function A(){let s=t.value,o=s;if("none"!=e.language){a=[],n=[],i=[],l=[];var r=!1,c=!1,p=!1;for(let t=0;t<s.length;t++){let d=!1,u=!1,g=!1;if(t>0&&"\\"!==s[t]){let n=0;"*"==s[t]&&"/"==s[t-1]&&"none"!=e.language&&"html"!=e.language&&"python"!=e.language&&(u=!0),"/"==s[t]&&"*"==s[t-1]&&"none"!=e.language&&"html"!=e.language&&"python"!=e.language&&(g=!0);for(let e=t-1;e>=0&&"\\"===s[e];e--)n++;d=n%2==1}switch(r||c||!u||(p=!0),r||c||!g||(p=!1),s[t]){case"{":r||c||!e.matchBraces||p||(a.push("{"),n.push(t));break;case"}":r||c||!e.matchBraces||p||(a.push("}"),n.push(t));break;case"(":r||c||!e.matchBraces||p||(i.push("("),l.push(t));break;case")":r||c||!e.matchBraces||p||(i.push(")"),l.push(t));break;case"'":c||d||p?o=z(o,t,"‚"):r=!r;break;case'"':r||d||p?o=z(o,t,"„"):c=!c}}}let d=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML}(o);if("html"==e.language)d=d.replace(/\"(.*?)\"/g,'<span cltemp="ss-string">"$1"</span>').replace(/\'(.*?)\'/g,"<span cltemp=\"ss-string\">'$1'</span>"),d=d.replace(/&lt;([^&]*)&gt;/g,(function(e,t){return"&lt;"+t.replace(/(class=|id=|name=|href=|value=|src=|alt=|charset=|title=|style=|width=|height=|rel=|type=)/g,'<span class="ss-attribute">$1</span>')+"&gt;"})),d=d.replace(/(&lt;!--[\s\S]*?--&gt;)/g,'<span class="ss-comment">$1</span>'),d=d.replace(/(&lt;\/?)(\w+)(.*?&gt;)/g,(function(e,t,s,n){return t+'<span class="ss-tag">'+s+"</span>"+n})),d=d.replace(/&lt;\//g,'<span class="ss-tag">&lt;/</span>'),d=d.replace(/&lt;/g,'<span class="ss-tag">&lt;</span>'),d=d.replace(/&gt;/g,'<span class="ss-tag">&gt;</span>'),d=d.replace(/<span cltemp=/g,"<span class=");else if("java"==e.language||"javascript"==e.language||"csharp"==e.language||"python"==e.language||"php"==e.language||"kotlin"==e.language||"cpp"==e.language){var u,g;"java"==e.language?(u=/\b(int|long|float|double|boolean|enum|void|char|String)\b/g,g=/\b(abstract|assert|break|case|catch|continue|default|do|else|extends|final|finally|for|goto|if|implements|import|instanceof|interface|new|null|package|private|protected|public|return|short|static|super|switch|this|throw|throws|try|while|true|false)\b/g):"javascript"==e.language?(u=/\b(var|const|let|number|boolean|enum|object|undefined|symbol|bigint)\b/g,g=/\b(await|break|case|catch|continue|default|delete|do|else|export|extends|false|finally|for|function|if|import|in|instanceof|new|null|return|super|switch|this|throw|true|try|typeof|void|while|with|yield)\b/g):"csharp"==e.language?(u=/\b(int|long|float|double|decimal|bool|enum|namespace|char|String|object|byte|sbyte|short|ushort|uint|ulong)\b/g,g=/\b(abstract|as|base|break|case|catch|checked|continue|default|delegate|do|else|event|explicit|extern|false|finally|for|foreach|goto|if|implicit|in|interface|internal|is|lock|new|null|object|out|override|params|private|protected|public|readonly|ref|return|short|sizeof|static|switch|this|throw|true|try|typeof|unsafe|using|while)\b/g):"python"==e.language?(u=/\b(int|float|complex|bool|str|bytes|bytearray|list|tuple|set|frozenset|dict|NoneType)\b/g,g=/\b(and|as|assert|async|await|break|continue|def|del|elif|else|except|False|finally|for|from|global|if|import|in|is|lambda|None|nonlocal|not|or|pass|raise|return|True|try|while|with|yield)\b/g):"php"==e.language?(u=/\b(int|float|bool|object|callable|iterable|null)\b/g,g=/\b(abstract|and|array|as|break|case|catch|clone|continue|declare|default|do|echo|else|elseif|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|interface|isset|list|new|or|print|private|protected|public|require|require_once|return|static|switch|throw|try|unset|use|while|xor|yield|true|false|null)\b/g):"kotlin"==e.language?(u=/\b(var|val|Int|Long|Float|Double|Boolean|Char|String|Any|Unit|Nothing)\b/g,g=/\b(as|break|continue|do|else|false|for|fun|if|in|interface|is|null|object|package|return|super|this|throw|true|try|typealias|typeof|when|while)\b/g):"cpp"==e.language&&(u=/\b(int|long|float|double|bool|enum|char|wchar_t|unsigned|signed)\b/g,g=/\b(alignas|alignof|and|and_eq|auto|break|case|catch|compl|concept|continue|decltype|default|delete|do|else|explicit|export|extern|false|float|for|goto|if|import|inline|module|mutable|new|noexcept|not|or|private|protected|public|register|requires|return|sizeof|static|switch|template|this|true|try|typedef|typeid|typename|union|using|virtual|while|xor)\b/g),d=d.replace(/\"(.*?)\"/g,'<span class="ss-string">"$1"</span>').replace(/\'(.*?)\'/g,"<span class=\"ss-string\">'$1'</span>").replace(g,'<span class="ss-keyword">$1</span>').replace(u,'<span class="ss-type">$1</span>').replace(/\/\*[\s\S]*?\*\//g,'<span class="ss-comment">$&</span>').replace(/("[^"]*"|'[^']*')|(\{|\})/g,(function(e,t,s){return t||(s?'<span class="ss-brace ss-curly-brace">'+s+"</span>":void 0)})).replace(/("[^"]*"|'[^']*')|(\(|\))/g,(function(e,t,s){return t||(s?'<span class="ss-brace ss-round-brace">'+s+"</span>":void 0)})).replace(/(\/\/.*?)(?=\r?\n|<br>|$)/g,'<span class="ss-comment">$1</span>'),"php"==e.language&&(d=d.replace(/(\$[a-zA-Z_\x80-\xff][a-zA-Z0-9_\x80-\xff]*)/g,'<span class="ss-type">$1</span>').replace(/(&lt;\?php|&lt;\?|&lt;\?|\?&gt;)/g,'<span class="ss-tag">$1</span>'))}else"css"==e.language&&(d=d.replace(/\"(.*?)\"/g,'<span class="ss-string">"$1"</span>').replace(/\'(.*?)\'/g,'<span class="ss-string">"$1"</span>').replace(/\/\*[\s\S]*?\*\//g,'<span class="ss-comment">$&</span>').replace(/(\{|\})/g,'<span class="ss-brace ss-curly-brace">$1</span>').replace(/(\:)/g,'<span class="ss-colon">$1</span>').replace(/([a-zA-Z-]+)(\s*):/g,'<span class="ss-property">$1</span>$2:').replace(/(\.[a-zA-Z0-9_-]+)/g,'<span class="ss-class">$1</span>').replace(/(\#[a-zA-Z0-9_-]+)/g,'<span class="ss-id">$1</span>'));return"none"!=e.language&&(d=d.replace(/„/g,'"'),d=d.replace(/‚/g,"'")),d}function $(){this.removeEventListener("input",$);this.value;var e=A();c.innerHTML=e+"<br>",E(),this.addEventListener("input",$)}v.onclick=function(){const e=g.value,s=y.checked;S(t,e,s,"next")},m.onclick=function(){const e=g.value,s=y.checked;S(t,e,s,"prev")},x.onclick=function(){const e=g.value,s=h.value,n=y.checked;!function(e,t,s,n){const a=n?e.value:e.value.toLowerCase();t=n?t:t.toLowerCase();const l=a.indexOf(t,L);if(-1!==l){const n=e.value,a=n.substring(0,l),i=n.substring(l+t.length),o=e.selectionStart;e.value=a+s+i,e.selectionStart=o,L=l+s.length,T(e,L-s.length,s.length),$(),C()}}(t,e,s,n)},w.onclick=function(){const e=g.value,s=h.value,n=y.checked;!function(e,t,s,n){n?e.value:e.value.toLowerCase(),t=n?t:t.toLowerCase(),e.value=e.value.split(t).join(s),$()}(t,e,s,n)},this.textChanged=function(){$()},this.showFind=function(){e.findAndReplace&&(h.style.display="none",x.style.display="none",w.style.display="none",u.style.height="46px",f.style.marginTop="0px",u.style.display="block")},this.showReplace=function(){e.findAndReplace&&(h.style.display="inline-block",x.style.display="inline-block",w.style.display="inline-block",u.style.height="84px",f.style.marginTop="8px",u.style.display="block")},this.zoomIn=function(){s<24&&(s+=4,t.style.fontSize=s+"px",c.style.fontSize=s+"px",r.style.fontSize=s+"px")},this.zoomOut=function(){s>4&&(s-=4,t.style.fontSize=s+"px",c.style.fontSize=s+"px",r.style.fontSize=s+"px")},this.setTheme=function(t){o.classList.remove("ss-container-"+e.theme),u.classList.remove("ss-searchbar-"+e.theme),e.theme=t,o.classList.add("ss-container-"+e.theme),u.classList.add("ss-searchbar-"+e.theme)},t.addEventListener("click",(function(s){if(e.matchBraces){var o=t.selectionStart,r=o;let e=t.value;var p,d="";"{"===e[o]?d="{":"}"===e[o]?d="}":"("===e[o]?d="(":")"===e[o]?d=")":"{"===e[o-1]?(d="{",r--):"}"===e[o-1]?(d="}",r--):"("===e[o-1]?(d="(",r--):")"===e[o-1]&&(d=")",r--),p="{"==d||"}"==d?n.indexOf(r):l.indexOf(r);var u=-1,g=!1,h=1;if("{"==d&&-1!=p)for(let e=p+1;e<a.length;e++){switch(a[e]){case"{":h++;break;case"}":h-1==0?(u=e,g=!0):h--}if(g)break}else if("}"==d&&-1!=p)for(let e=p-1;e>=0;e--){switch(a[e]){case"}":h++;break;case"{":h-1==0?(u=e,g=!0):h--}if(g)break}else if("("==d&&-1!=p)for(let e=p+1;e<i.length;e++){switch(i[e]){case"(":h++;break;case")":h-1==0?(u=e,g=!0):h--}if(g)break}else if(")"==d&&-1!=p)for(let e=p-1;e>=0;e--){switch(i[e]){case")":h++;break;case"(":h-1==0?(u=e,g=!0):h--}if(g)break}if(document.querySelectorAll(".ss-highlight").forEach((function(e){e.classList.remove("ss-highlight")})),-1!==u&&-1!==p){var f;if(p<(f="{"==d||"}"==d?c.querySelectorAll(".ss-curly-brace"):c.querySelectorAll(".ss-round-brace")).length){f[p].classList.add("ss-highlight")}if(u<f.length){f[u].classList.add("ss-highlight")}}}})),this.insertText=function(e){document.activeElement!==t&&t.focus();var s=t.selectionStart,n=t.selectionEnd,a=t.value.substring(0,s),l=t.value.substring(n,t.value.length);t.value=a+e+l,t.selectionStart=s,t.selectionEnd=s+e.length,$()},this.insertHtmlTag=function(e){document.activeElement!==t&&t.focus();var s=t.selectionStart,n=t.selectionEnd,a=t.value.substring(0,s),l=t.value.substring(n,t.value.length),i="<"+e+">"+t.value.substring(s,n)+"</"+e+">";t.value=a+i+l,t.selectionStart=s,t.selectionEnd=s+i.length,$()},t.addEventListener("keydown",(function(s){if("Tab"==s.key){s.preventDefault();let n=t.selectionStart,a=t.selectionEnd;t.value=t.value.substring(0,n)+e.tabChars+t.value.substring(a),t.selectionStart=t.selectionEnd=n+e.tabChars.length,$()}!s.ctrlKey||"f"!==s.key&&70!==s.keyCode||e.findAndReplace&&(s.preventDefault(),h.style.display="none",x.style.display="none",w.style.display="none",u.style.height="46px",u.style.display="block"),!s.ctrlKey||"h"!==s.key&&72!==s.keyCode||e.findAndReplace&&(s.preventDefault(),h.style.display="inline-block",x.style.display="inline-block",w.style.display="inline-block",u.style.height="67px",u.style.display="block")}));t.value;var R=A();c.innerHTML=R,E(),t.addEventListener("input",$),t.addEventListener("scroll",(function(e){c.scrollTop=t.scrollTop,r.scrollTop=t.scrollTop,c.scrollLeft=t.scrollLeft}))};